##################### PARAMETRI GLOBALI #########################

#Intervallo di tempo (sec) tra la fine di una esecuzione e l'inizio della successiva (per singola casella di posta)
mailboxmanagers.delay=10

#Numero di thread concorrenti
mailboxmanagers.poolsize=4

#Intervallo di tempo (sec) per il refresh delle caselle di posta (ricaricamento configurazioni) 
mailboxmanagers.refresh.time=600

#Di default la refresh feature aggiunge le nuove configurazioni e rimuove quelle cancellate ma non applica cambiamenti a quelle già esistenti.
#Abilitare la hot-reloading feature per aggiornare automaticamente le modifiche alle configurazioni
mailboxmanagers.hot-reloading=true

#Di default non sono ammessi indirizzi email duplicati in differenti configurazioni. Attivando questa property si disabilita il controllo sui duplicati.
#Ad ogni modo è sempre necessario che il nome della configurazione sia univoco.
mailboxmanagers.allow-email-duplicates=false

#################################################################



##################### PARAMETRI DOCWAY4 ########################
#N.B. In caso di caselle di posta archiviate su DocWay4 è necessario che il 'notification-sender' sia del tipo 'it.tredi.msa.notification.MailNotificationSender'

#Parametri di connessione a eXtraWay
docway4mailboxmanager.xw.host=docway-test.bo.priv
docway4mailboxmanager.xw.port=4859
docway4mailboxmanager.xw.user=lettore
docway4mailboxmanager.xw.password=reader
docway4mailboxmanager.xw.lock-op.attempts=10
docway4mailboxmanager.xw.lock-op.delay=6000

#Salvataggio di EML (anche quando si effettua l'estrazione degli allegati)
docway4mailboxmanager.store-eml.enable=true

#Spostamento dei messaggi processati in una specifica folder (invece della rimozione). Solo per protocollo IMAP 
docway4mailboxmanager.move-stored-messages.enable=false
docway4mailboxmanager.move-stored-messages.folder-name=MSA_STORED_MESSAGES

#timeout per socket e connection per la lettura delle caselle di posta
docway4mailboxmanager.mail-reader.socket-timeout=60000
docway4mailboxmanager.mail-reader.connection-timeout=10000

#Invio email di notifica su Docway (RPA, CC)
docway4mailboxmanager.notification-emails.enable=false

#Comportamento nel caso in cui uno stesso messaggio venga recapitato a due o più caselle di posta gestite dall'archiviatore (all'interno della stessa AOO)
#Se false verranno creati due differenti documenti. Se true verrà creato un singolo documento e verranno aggiunti solamente gli assegnatari previsti per le altre caselle di posta. 
docway4mailboxmanager.create-single-doc-by-message-id=true

### Interoperabilità PA ###
#Protocollazione automatica del messaggi di segnatura in ingresso. 
#Se true e non ci sono errori di validazione della segnatura verrà assegnato il numero di protocollo e inviata la notifica di conferma ricezione al mittente.
#Se false verrà creata una bozza di protocollo in ingresso
docway4mailboxmanager.interop-pa.protocolla-segnatura.enable=true
docway4mailboxmanager.interop-pa.mezzo-trasmissione-segnatura=Posta Elettronica Certificata
docway4mailboxmanager.interop-pa.tipologia-segnatura=Messaggio Interoperabilità PA

### Fattura elettronica PA ###
docway4mailboxmanager.ftr-pa.enable=true
docway4mailboxmanager.ftr-pa.sdi-domain-address=
#@pec.fatturapa.it
docway4mailboxmanager.ftr-pa.repertorio=Fattura Passiva
docway4mailboxmanager.ftr-pa.repertorio.cod=FTRPAP
docway4mailboxmanager.ftr-pa.classif=00/00 - Non Classificato
docway4mailboxmanager.ftr-pa.classif.cod=00/00
docway4mailboxmanager.ftr-pa.voce-indice=
docway4mailboxmanager.ftr-pa.overwrite-oggetto=true
docway4mailboxmanager.ftr-pa.protocolla-fattura.enable=true

#Se true ignora le ricevute dei messaggi PEC standard (no interoPA e no fatturaPA) orfani (non inviati da docway). In questo modo i messaggi non verranno archiviati e non verranno cancellati dalla casella di posta
docway4mailboxmanager.pec.ignore-standard-orphan-receipts=true

#################################################################



############### MAILBOX CONFIGURATION READERS ###################
#Nella property 'mailboxconfiguration.readers' occorre indicare i nomi di tutti i mailbox configuration reader separati da virgola
#Per ogni mailbox configuration (con name <NAME>) occorre definire due property:
#<NAME>.class=full class name dell'implementazione desiderata 
#<NAME>.params=lista dei parametri previsti dall'implementazione specificata (comma separated)
#Esempio:
#<NAME>.class=it.tredi.msa.configuration.docway.Docway4MailboxConfigurationReader
#<NAME>.params=host=localhost,port=4859,user=lettore,password=reader,db=acl,query=[casellapostaelettronica_interop]="no",queryPec=[casellapostaelettronica_interop]="si",xPathInfo=/casellaPostaElettronica

#MailboxConfigurationReader(s).
mailboxconfiguration.readers=dcw4-conf-reader

dcw4-conf-reader.class=it.tredi.msa.configuration.docway.Docway4MailboxConfigurationReader
dcw4-conf-reader.params=host=docway-test.bo.priv,port=4859,user=lettore,password=reader,db=acl,query=[casellapostaelettronica_interop]="no",queryPec=[casellapostaelettronica_interop]="si",xPathInfo=/casellaPostaElettronica

#################################################################



######################## AUDIT WRITER ###########################
#Nella property 'audit.writer' occorre indicare il nome dell'audit writer
#Per l'audit writer (con name <NAME>) occorre definire due property:
#<NAME>.class=full class name dell'implementazione desiderata 
#<NAME>.params=lista dei parametri previsti dall'implementazione specificata (comma separated)
#Esempio:
#<NAME>.class=it.tredi.msa.audit.MongodbAuditWriter
#<NAME>.params=full=true

#AuditWriter - MONGODB
#see application.properties for mongoDb configuration
audit.writer=mongodb-audit-writer
mongodb-audit-writer.class=it.tredi.msa.audit.MongodbAuditWriter
mongodb-audit-writer.params=full=true

#################################################################



#################### MNOTIFICATION SENDER #######################
#Nella property 'notification.sender' occorre indicare il nome del notification sender
#Per il notification sender (con name <NAME>) occorre definire due property:
#<NAME>.class=full class name dell'implementazione desiderata 
#<NAME>.params=lista dei parametri previsti dall'implementazione specificata (comma separated)
#Esempio:
#<NAME>.class=it.tredi.msa.notification.MailNotificationSender
#<NAME>.params=host=smtp.gmail.com,port=465,protocol=smtp-tls,user=user@3di.it,password=password,senderAdress=user@3di.it,senderPersonal=Archiviatore Email,admEmailAddresses=adm1@3di.it;admn2@3di.it,socketTimeout=60000,connectionTimeout=10000,notifyRemainingError=false

#NotificationSender
notification.sender=mail-notifier

mail-notifier.class=it.tredi.msa.notification.MailNotificationSender
mail-notifier.params=host=smtp.gmail.com,port=465,protocol=smtp-tls,user=mb-proto@3di.it,password=!3dinformatica!,senderAdress=mb-proto@3di.it,senderPersonal=Nuovo Archiviatore Email,admEmailAddresses=sstagni@3di.it;sstagni@3di.it,socketTimeout=60000,connectionTimeout=10000,notifyRemainingError=false

#################################################################
